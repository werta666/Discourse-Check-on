<!DOCTYPE html>
<html>
<head>
  <title>Discourse Check-on æ’ä»¶æµ‹è¯•é¡µé¢</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #007bff, #17a2b8);
      color: white;
      border-radius: 8px;
    }
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border-left: 4px solid #007bff;
      background: #f8f9fa;
    }
    .success { border-left-color: #28a745; background: #d4edda; }
    .error { border-left-color: #dc3545; background: #f8d7da; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ‰ Discourse Check-on æ’ä»¶</h1>
      <p>æ’ä»¶é¡µé¢åŠ è½½æˆåŠŸï¼</p>
    </div>
    
    <div class="status success">
      <h3>âœ… è·¯ç”±å·¥ä½œæ­£å¸¸</h3>
      <p>å¦‚æœæ‚¨èƒ½çœ‹åˆ°è¿™ä¸ªé¡µé¢ï¼Œè¯´æ˜æ’ä»¶çš„è·¯ç”±é…ç½®æ˜¯æ­£ç¡®çš„ã€‚</p>
    </div>
    
    <div class="status">
      <h3>ğŸ“Š æ’ä»¶çŠ¶æ€</h3>
      <ul>
        <li><strong>æ’ä»¶å¯ç”¨çŠ¶æ€:</strong> <%= @plugin_data ? (@plugin_data[:enabled] ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨') : 'â“ æœªçŸ¥' %></li>
        <li><strong>åŠŸèƒ½çº§åˆ«:</strong> <%= @plugin_data ? @plugin_data[:feature_level] : 'æœªçŸ¥' %></li>
        <li><strong>è‡ªåŠ¨é—®å€™:</strong> <%= @plugin_data ? (@plugin_data[:auto_greeting] ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨') : 'â“ æœªçŸ¥' %></li>
      </ul>
    </div>
    
    <div class="status">
      <h3>ğŸ”§ è°ƒè¯•ä¿¡æ¯</h3>
      <ul>
        <li><strong>å½“å‰æ—¶é—´:</strong> <%= Time.current %></li>
        <li><strong>æ’ä»¶æ•°æ®:</strong> <%= @plugin_data ? 'âœ… å·²åŠ è½½' : 'âŒ æœªåŠ è½½' %></li>
        <li><strong>ç”¨æˆ·çŠ¶æ€:</strong> <%= current_user ? "å·²ç™»å½• (#{current_user.username})" : 'æœªç™»å½•' %></li>
      </ul>
    </div>
    
    <div class="status">
      <h3>ğŸ”— ç›¸å…³é“¾æ¥</h3>
      <ul>
        <li><a href="/discourse-check-on/api">API æ•°æ®</a></li>
        <li><a href="/discourse-check-on/stats">ç»Ÿè®¡ä¿¡æ¯</a></li>
        <li><a href="https://github.com/werta666/Discourse-Check-on" target="_blank">GitHub ä»“åº“</a></li>
      </ul>
    </div>
    
    <% if @plugin_data %>
    <div class="status">
      <h3>ğŸ“‹ å®Œæ•´æ’ä»¶æ•°æ®</h3>
      <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto;"><%= JSON.pretty_generate(@plugin_data) %></pre>
    </div>
    <% end %>
  </div>
</body>
</html>
